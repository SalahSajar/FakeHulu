(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{8758:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/[accountID]/watchlist",function(){return s(7827)}])},1245:function(t,e,s){"use strict";var a=s(5893),c=s(7294),n=s(1163),i=s(6634),r=s(297),o=s(9780),l=s.n(o);e.Z=function(t){var e=t.children,s=t.accountPage,o=t.showNavbar,h=(0,n.useRouter)().query.accountID,_=(0,i.I)(),u=_.userIsAuthenticated,w=_.checkUserAuthHandler;return(0,c.useEffect)((function(){h&&w(h)}),[h]),(0,a.jsx)(c.Fragment,{children:(0,a.jsx)("div",{className:"accountPage--BASE",children:u&&(0,a.jsxs)("main",{className:l()["account_homePage--EL"],children:[o&&(0,a.jsx)(r.Z,{page:"accountNavbar",params:s}),e]})})})}},724:function(t,e,s){"use strict";s.d(e,{B:function(){return l}});var a=s(4051),c=s.n(a),n=s(7294),i=s(9716);function r(t,e,s,a,c,n,i){try{var r=t[n](i),o=r.value}catch(l){return void s(l)}r.done?e(o):Promise.resolve(o).then(a,c)}function o(t){return function(){var e=this,s=arguments;return new Promise((function(a,c){var n=t.apply(e,s);function i(t){r(n,a,c,i,o,"next",t)}function o(t){r(n,a,c,i,o,"throw",t)}i(void 0)}))}}var l=function(){var t=(0,n.useState)(!1),e=t[0],s=t[1],a=(0,n.useState)(!1),r=a[0],l=a[1],h=(0,n.useContext)(i.m),_=h.userWatchlistHandler,u=h.userWatchlistMovies,w=h.userWatchlistTvShows,d=function(){var t=o(c().mark((function t(e,a){var n,i,r,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),l(!1),t.next=5,fetch("https://fakehulu-default-rtdb.europe-west1.firebasedatabase.app/FakeUsersWatchlist/".concat(e,"/").concat(a,".json"));case 5:if((n=t.sent).ok){t.next=9;break}throw Error("something Went very Wrong");case 9:return t.next=11,n.json();case 11:if(i=t.sent,r=[],i)for(o in i)r.push(i[o]);_(r,a),s(!1),l(!1),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),s(!1),l(!0);case 23:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,s){return t.apply(this,arguments)}}(),m=function(){var t=o(c().mark((function t(e,a,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),l(!1),t.next=5,fetch("https://fakehulu-default-rtdb.europe-west1.firebasedatabase.app/FakeUsersWatchlist/".concat(e,"/").concat(n,".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:if(t.sent.ok){t.next=9;break}throw Error("something Went very Wrong");case 9:s(!1),l(!1),d(e,n),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),s(!1),l(!0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,s,a){return t.apply(this,arguments)}}(),v=function(){var t=o(c().mark((function t(e,a,n){var i,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),l(!1),"movies"===n&&(i=u.filter((function(t){return t.id!==a}))),"tvShows"===n&&(i=w.filter((function(t){return t.id!==a}))),t.next=8,fetch("https://fakehulu-default-rtdb.europe-west1.firebasedatabase.app/FakeUsersWatchlist/".concat(e,"/").concat(n,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 8:if((r=t.sent).ok){t.next=12;break}throw Error("something Went very Wrong");case 12:return t.next=14,r.json();case 14:t.sent,s(!1),l(!1),d(e,n),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),s(!1),l(!0);case 24:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e,s,a){return t.apply(this,arguments)}}();return{fetchUserWatchlistFromDB___Handler:d,storeShowToWatchlistDB___Handler:m,removeShowFromWatchlistDB___Handler:v,watchlistIsLoading:e,watchlistError:r}}},7827:function(t,e,s){"use strict";s.r(e);var a=s(5893),c=s(7294),n=s(1664),i=s(9008),r=s(1163),o=s(724),l=s(9716),h=s(1245),_=s(4543),u=s(8966),w=s.n(u);e.default=function(){var t=(0,c.useState)("movies"),e=t[0],s=t[1],u=(0,o.B)(),d=u.fetchUserWatchlistFromDB___Handler,m=u.removeShowFromWatchlistDB___Handler,v=u.watchlistIsLoading,f=u.watchlistError,p=(0,c.useContext)(l.m),N=p.userWatchlistMovies,g=p.userWatchlistTvShows,x=(0,r.useRouter)().query.accountID,j=function(t){s(t)};(0,c.useEffect)((function(){x&&(d(x,"movies"),d(x,"tvShows"))}),[x]);var E=function(t){return t.map((function(t){return t.name})).join(", ")};return(0,a.jsxs)(c.Fragment,{children:[(0,a.jsx)(i.default,{children:(0,a.jsx)("title",{children:"Watchlist | Hulu"})}),(0,a.jsx)(h.Z,{accountPage:"watchlist",showNavbar:"true",children:(0,a.jsxs)("div",{className:w()["watchlist--BLOCK"],children:[(0,a.jsx)("header",{className:w()["watchlist_header--CONTAINER"],children:(0,a.jsx)("div",{className:w()["watchlict_navigation--BLOCK"],children:(0,a.jsxs)("div",{className:"f-center-between ".concat(w()["watchlict_navigation_content--WRAPPER"]),children:[(0,a.jsx)("button",{type:"button",onClick:function(){return j("movies")},className:"".concat("movies"===e&&w().active_navigation_state," ").concat(w()["watchlist_navigation--BTN"]),children:"movies"}),(0,a.jsx)("button",{type:"button",onClick:function(){return j("tvShows")},className:"".concat("tvShows"===e&&w().active_navigation_state," ").concat(w()["watchlist_navigation--BTN"]),children:"tv Shows"})]})})}),(0,a.jsx)("hr",{}),(0,a.jsx)("section",{className:w()["watchlist_shows--BLOCK"],children:v?(0,a.jsx)(_.Z,{spacedState:!0}):f?(0,a.jsx)("div",{className:w()["error_modal--EL"],children:(0,a.jsx)("div",{className:w()["error_content_block--EL"],children:(0,a.jsx)("p",{className:w()["error_message--EL"],children:"Something went wrong, please try again later."})})}):"movies"===e?N&&N.length?(0,a.jsx)("div",{className:w()["watchlist_shows_content--CONTAINER"],children:N.map((function(t){var e=t.id,s=t.title,c=t.tagline,i=t.genres,r=t.poster_path;return(0,a.jsx)("div",{href:"/account/".concat(x,"/movies/").concat(e),className:w()["watchlist_show--CARD"],children:(0,a.jsxs)("div",{className:w()["watchlist_show_card_content--CONTAINER"],children:[(0,a.jsx)(n.default,{href:"/account/".concat(x,"/movies/").concat(e),children:(0,a.jsx)("a",{className:w()["watchlist_show_image--WRAPPER"],children:r?(0,a.jsx)("img",{src:"https://www.themoviedb.org/t/p/original".concat(r),alt:"".concat(s,"'s poster")}):(0,a.jsx)("img",{src:"/assets/accountPage-assets/default_images/showPosterNotAvailable.png",alt:"".concat(s,"'s poster not found")})})}),(0,a.jsxs)("div",{className:w()["watchlist_show_details--CONTAINER"],children:[(0,a.jsx)("h3",{className:w()["watchlist_show_title--EL"],children:s}),(0,a.jsx)("span",{className:w()["watchlist_show_categoties--EL"],children:c||E(i)})]}),(0,a.jsx)("button",{className:w()["remove_from_watchlist--BTN"],onClick:function(){return m(x,e,"movies")},children:(0,a.jsx)("img",{src:"/assets/accountPage-assets/icons/trash.png",alt:"trash icon"})})]})},e)}))}):(0,a.jsx)("div",{className:w()["error_modal--EL"],children:(0,a.jsx)("div",{className:w()["error_content_block--EL"],children:(0,a.jsx)("p",{className:w()["error_message--EL"],children:"Your movies watchlist is empty."})})}):g&&g.length?(0,a.jsx)("div",{className:w()["watchlist_shows_content--CONTAINER"],children:g.map((function(t){var e=t.id,s=t.name,c=t.tagline,i=t.genres,r=t.poster_path;return(0,a.jsx)("div",{href:"/account/".concat(x,"/movies/").concat(e),className:w()["watchlist_show--CARD"],children:(0,a.jsxs)("div",{className:w()["watchlist_show_card_content--CONTAINER"],children:[(0,a.jsx)(n.default,{href:"/account/".concat(x,"/tvShows/").concat(e),children:(0,a.jsx)("a",{className:w()["watchlist_show_image--WRAPPER"],children:r?(0,a.jsx)("img",{src:"https://www.themoviedb.org/t/p/original".concat(r),alt:"".concat(s,"'s poster")}):(0,a.jsx)("img",{src:"/assets/accountPage-assets/default_images/showPosterNotAvailable.png",alt:"".concat(s,"'s poster not found")})})}),(0,a.jsxs)("div",{className:w()["watchlist_show_details--CONTAINER"],children:[(0,a.jsx)("h3",{className:w()["watchlist_show_title--EL"],children:s}),(0,a.jsx)("span",{className:w()["watchlist_show_categoties--EL"],children:c||E(i)})]}),(0,a.jsx)("button",{className:w()["remove_from_watchlist--BTN"],onClick:function(){return m(x,e,"tvShows")},children:(0,a.jsx)("img",{src:"/assets/accountPage-assets/icons/trash.png",alt:"trash icon"})})]})},e)}))}):(0,a.jsx)("div",{className:w()["error_modal--EL"],children:(0,a.jsx)("div",{className:w()["error_content_block--EL"],children:(0,a.jsx)("p",{className:w()["error_message--EL"],children:"Your TV Shows watchlist is empty."})})})})]})})]})}},8966:function(t){t.exports={"watchlist--BLOCK":"watchlist_watchlist--BLOCK__CEZ5g","watchlist_header--CONTAINER":"watchlist_watchlist_header--CONTAINER__JRtCL","watchlict_navigation--BLOCK":"watchlist_watchlict_navigation--BLOCK__MmkQo","watchlict_navigation_content--WRAPPER":"watchlist_watchlict_navigation_content--WRAPPER__L1Eio","watchlist_navigation--BTN":"watchlist_watchlist_navigation--BTN__BRDDb",active_navigation_state:"watchlist_active_navigation_state__ZJ9_U","watchlist_shows--BLOCK":"watchlist_watchlist_shows--BLOCK__tie9z","error_modal--EL":"watchlist_error_modal--EL__WakMR","error_content_block--EL":"watchlist_error_content_block--EL__qRjla","watchlist_shows_content--CONTAINER":"watchlist_watchlist_shows_content--CONTAINER__FIy97","watchlist_show--CARD":"watchlist_watchlist_show--CARD__qSocc","remove_from_watchlist--BTN":"watchlist_remove_from_watchlist--BTN__bWzp6","watchlist_show_image--WRAPPER":"watchlist_watchlist_show_image--WRAPPER__eF1Tf","watchlist_show_details--CONTAINER":"watchlist_watchlist_show_details--CONTAINER__LuVmD","watchlist_show_title--EL":"watchlist_watchlist_show_title--EL__cle2O","watchlist_show_categoties--EL":"watchlist_watchlist_show_categoties--EL__gV2fv"}}},function(t){t.O(0,[698,774,888,179],(function(){return e=8758,t(t.s=e);var e}));var e=t.O();_N_E=e}]);